ylab("Count") +
xlab("Word") +
scale_fill_brewer(palette="Set1") +
theme_bw(base_size=12) +
theme(axis.text.x = element_text(angle=90, hjust = 1,vjust=.5, size=8),
axis.title.x = element_text(vjust=-.5),
panel.grid = element_blank(),
legend.position="none")
head(d)
d %<>%
mutate(agesplit = cut(age, breaks=c(0, 12, 24)),
agesplit = factor(agesplit,
labels=c("< 12 months", "> 12 months")))
d_top <- d %>%
group_by(word_standard, agesplit) %>%
summarise(n=n()) %>%
top_n(10) %>%
group_by(agesplit)
View(d_top)
d_top <- d %>%
group_by(word_standard, agesplit) %>%
summarise(n=n()) %>%
group_by(agesplit)%>%
top_n(10)
View(d_top)
d_top <- d %>%
group_by(agesplit, word) %>%
summarise(n=n()) %>%
top_n(10) %>%
group_by(agesplit)
d_top <- d %>%
group_by(agesplit, word_standard) %>%
summarise(n=n()) %>%
top_n(10) %>%
group_by(agesplit)
View(d_top)
d_top <- d %>%
group_by(agesplit, word_standard) %>%
summarise(n=n()) %>%
group_by(agesplit)
View(d_top)
d <- read.csv("../data/FW_TurkData.csv")
d %<>%
filter(age >= 5)%>%
mutate(agesplit = cut(age, breaks=c(0, 12, 24)),
agesplit = factor(agesplit,
labels=c("< 12 months", "> 12 months")))
d_top <- d %>%
group_by(agesplit, word_standard) %>%
summarise(n=n()) %>%
group_by(agesplit)
d_top %<>%
group_by(agesplit)%>%
top_n(10)
View(d_top)
d_top$n <- sort(d_top$n, decreasing=TRUE)
View(d_top)
ggplot(data = d_top,
aes(x=word_standard, y=n, fill = agesplit, group = agesplit)) +
geom_histogram(stat="identity") +
ylab("Count") +
xlab("Word") +
scale_fill_brewer(palette="Set1") +
theme_bw(base_size=12) +
theme(axis.text.x = element_text(angle=90, hjust = 1,vjust=.5, size=8),
axis.title.x = element_text(vjust=-.5),
panel.grid = element_blank(),
legend.position="none")
ggplot(data = d_top,
aes(x=word_standard, y=n, fill = agesplit, group = agesplit)) +
geom_histogram(stat="identity", position = "dodge") +
ylab("Count") +
xlab("Word") +
scale_fill_brewer(palette="Set1") +
theme_bw(base_size=12) +
theme(axis.text.x = element_text(angle=90, hjust = 1,vjust=.5, size=8),
axis.title.x = element_text(vjust=-.5),
panel.grid = element_blank(),
legend.position="none")
ggplot(data = d_top,
aes(x=word_standard, y=n, fill = agesplit, group = agesplit)) +
geom_histogram(stat="identity", position = "dodge") +
ylab("Count") +
xlab("Word") +
scale_fill_brewer(palette="Set1") +
theme_bw(base_size=12) +
theme(axis.text.x = element_text(angle=90, hjust = 1,vjust=.5, size=8),
axis.title.x = element_text(vjust=-.5),
panel.grid = element_blank())
View(d_top)
d_top <- d %>%
group_by(word_standard) %>%
summarise(n=n()) %>%
top_n(10)
View(d_top)
d_top$n <- sort(d_top$n, decreasing=TRUE)
View(d_top)
View(d_top)
d_top <- d %>%
group_by(word_standard) %>%
summarise(n=n()) %>%
top_n(10)
View(d_top)
View(d_top)
d %<>%
filter(age >= 5, word_standard != "Mama", word_standard != "Dada")%>%
mutate(agesplit = cut(age, breaks=c(0, 12, 24)),
agesplit = factor(agesplit,
labels=c("< 12 months", "> 12 months")))
d_top <- d %>%
group_by(word_standard) %>%
summarise(n=n()) %>%
top_n(10)
View(d_top)
top_words <- d %>%
filter(word_standard == "Ball" | word_standard == "Baba" | word_standard == "Bye" | word_standard == "Bottle" |
word_standard = "Dog" | word_standard == "Cat" | word_standard == "Hi" | word_standard == "No" |
word_standard == "Milk" | word_standard == "Kitty") %>%
group_by(word_standard, agesplit)%>%
summarise(n = n())
head(d)
top_words <- d %>%
filter(word_standard == "Ball" | word_standard == "Baba" | word_standard == "Bye" | word_standard == "Bottle" |
word_standard = "Dog" | word_standard == "Cat" | word_standard == "Hi" | word_standard == "No" |
word_standard == "Milk" | word_standard == "Kitty")
top_words <- d %>%
filter(word_standard == "Ball" | word_standard == "Baba" | word_standard == "Bye" | word_standard == "Bottle" |
word_standard == "Dog" | word_standard == "Cat" | word_standard == "Hi" | word_standard == "No" |
word_standard == "Milk" | word_standard == "Kitty")
top_words <- d %>%
filter(word_standard == "Ball" | word_standard == "Baba" | word_standard == "Bye" | word_standard == "Bottle" |
word_standard == "Dog" | word_standard == "Cat" | word_standard == "Hi" | word_standard == "No" |
word_standard == "Milk" | word_standard == "Kitty") %>%
group_by(word_standard, agesplit)%>%
summarise(n = n())
View(top_words)
top_words <- d %>%
filter(word_standard == "Ball" | word_standard == "Baba" | word_standard == "Bye" | word_standard == "Bottle" |
word_standard == "Dog" | word_standard == "Cat" | word_standard == "Hi" | word_standard == "No" |
word_standard == "Milk" | word_standard == "Kitty") %>%
group_by(word_standard, agesplit)%>%
summarise(n = n()) %>%
mutate(word_standard = factor(word_standard, levels = word_standard[order(n,word_standard,
decreasing=TRUE)]))
filter(word_standard == "Ball" | word_standard == "Baba" | word_standard == "Bye" | word_standard == "Bottle" |
word_standard == "Dog" | word_standard == "Cat" | word_standard == "Hi" | word_standard == "No" |
word_standard == "Milk" | word_standard == "Kitty") %>%
group_by(word_standard, agesplit)%>%
summarise(n = n()) %>%
mutate(words = factor(word_standard, levels = word_standard[order(n,word_standard,
decreasing=TRUE)]))
top_words <- d %>%
filter(word_standard == "Ball" | word_standard == "Baba" | word_standard == "Bye" | word_standard == "Bottle" |
word_standard == "Dog" | word_standard == "Cat" | word_standard == "Hi" | word_standard == "No" |
word_standard == "Milk" | word_standard == "Kitty") %>%
group_by(word_standard, agesplit)%>%
summarise(n = n())
top_words <- d %>%
filter(word_standard == "Ball" | word_standard == "Baba" | word_standard == "Bye" | word_standard == "Bottle" |
word_standard == "Dog" | word_standard == "Cat" | word_standard == "Hi" | word_standard == "No" |
word_standard == "Milk" | word_standard == "Kitty") %>%
group_by(word_standard, agesplit)%>%
summarise(n = n()) %>%
mutate(words = factor(word_standard, levels = word_standard[order(n,word_standard,
decreasing=TRUE)]))
View(top_words)
top_words <- d %>%
filter(word_standard == "Ball" | word_standard == "Baba" | word_standard == "Bye" | word_standard == "Bottle" |
word_standard == "Dog" | word_standard == "Cat" | word_standard == "Hi" | word_standard == "No" |
word_standard == "Milk" | word_standard == "Kitty") %>%
group_by(word_standard, agesplit)%>%
summarise(n = n())
ggplot(top_words, aes(x=reorder(word_standard, n), y=vn, fill=agesplit)) +
geom_bar(stat="identity")
ggplot(top_words, aes(x=reorder(word_standard, n), y=n, fill=agesplit)) +
geom_bar(stat="identity")
ggplot(top_words, aes(x=reorder(word_standard, n), y=n, fill=agesplit)) +
geom_bar(stat="identity", position = "dodge")
top_words <- d %>%
filter(word_standard == "Ball" | word_standard == "Baba" | word_standard == "Bye" | word_standard == "Bottle" |
word_standard == "Dog" | word_standard == "Cat" | word_standard == "Hi" | word_standard == "No" |
word_standard == "Milk" | word_standard == "Kitty") %>%
group_by(word_standard, agesplit)%>%
summarise(n = n())%>%
group_by(agesplit)%>%
mutate(prop = n/sum(n))
View(top_words)
ggplot(top_words, aes(x=reorder(word_standard, prop), y=prop, fill=agesplit)) +
geom_bar(stat="identity", position = "dodge")
?reorder
ggplot(data = top_words, aes(x=reorder(word_standard, prop), y=prop, fill=agesplit)) +
geom_histogram(stat="identity", position = "dodge") +
ylab("Proportion") +
xlab("Word") +
scale_fill_brewer(palette="Set1") +
theme_bw(base_size=12) +
theme(axis.text.x = element_text(angle=90, hjust = 1,vjust=.5, size=8),
axis.title.x = element_text(vjust=-.5),
panel.grid = element_blank())
View(top_words)
summary(d$agesplit)
d %<>%
filter(age < 12, word_standard != "Mama", word_standard != "Dada")
d %<>%
filter(age <= 12, word_standard != "Mama", word_standard != "Dada")
d %<>%
filter(age > 4, word_standard != "Mama", word_standard != "Dada")%>%
mutate(agesplit = cut(age, breaks=c(0, 12, 24)),
agesplit = factor(agesplit,
labels=c("< 12 months", "> 12 months")))
d <- read.csv("../data/FW_TurkData.csv")
d %<>%
filter(age > 4, word_standard != "Mama", word_standard != "Dada")%>%
mutate(agesplit = cut(age, breaks=c(0, 12, 24)),
agesplit = factor(agesplit,
labels=c("< 12 months", "> 12 months")))
summary(d$agesplit)
d_top <- d %>%
group_by(word_standard) %>%
summarise(n=n()) %>%
top_n(10)
top_words <- d %>%
filter(word_standard == "Ball" | word_standard == "Baba" | word_standard == "Bye" | word_standard == "Bottle" |
word_standard == "Dog" | word_standard == "Cat" | word_standard == "Hi" | word_standard == "No" |
word_standard == "Milk" | word_standard == "Kitty") %>%
group_by(word_standard, agesplit)%>%
summarise(n = n())%>%
group_by(agesplit)%>%
mutate(prop = n/sum(n))
ggplot(data = top_words, aes(x=reorder(word_standard, prop), y=prop, fill=agesplit)) +
geom_histogram(stat="identity", position = "dodge") +
ylab("Proportion") +
xlab("Word") +
scale_fill_brewer(palette="Set1") +
theme_bw(base_size=12) +
theme(axis.text.x = element_text(angle=90, hjust = 1,vjust=.5, size=8),
axis.title.x = element_text(vjust=-.5),
panel.grid = element_blank())
ggplot(data = top_words, aes(x=order(word_standard, prop), y=prop, fill=agesplit)) +
geom_histogram(stat="identity", position = "dodge") +
ylab("Proportion") +
xlab("Word") +
scale_fill_brewer(palette="Set1") +
theme_bw(base_size=12) +
theme(axis.text.x = element_text(angle=90, hjust = 1,vjust=.5, size=8),
axis.title.x = element_text(vjust=-.5),
panel.grid = element_blank())
ggplot(data = top_words, aes(x=reorder(word_standard, prop), y=prop, fill=agesplit)) +
geom_histogram(stat="identity", position = "dodge") +
ylab("Proportion") +
xlab("Word") +
scale_fill_brewer(palette="Set1") +
theme_bw(base_size=12) +
theme(axis.text.x = element_text(angle=90, hjust = 1,vjust=.5, size=8),
axis.title.x = element_text(vjust=-.5),
panel.grid = element_blank())
d_phon <- d %>%
filter(word_standard == "Ball" | word_standard == "Baba" | word_standard == "Bye" | word_standard == "Bottle" |
word_standard == "Dog" | word_standard == "Cat" | word_standard == "Hi" | word_standard == "No" |
word_standard == "Milk" | word_standard == "Kitty") %>%
group_by(agesplit, word_standard, word_original)%>%
summarise(n = n())
View(d_phon)
d_phon <- d %>%
filter(word_standard == "Ball" | word_standard == "Baba" | word_standard == "Bye" | word_standard == "Bottle" |
word_standard == "Dog" | word_standard == "Cat" | word_standard == "Hi" | word_standard == "No" |
word_standard == "Milk" | word_standard == "Kitty") %>%
group_by(agesplit, word_standard, word_original)%>%
summarise(n = n())%>%
group_by(word_standard)
View(d_phon)
d_phon <- d %>%
filter(word_standard == "Ball" | word_standard == "Baba" | word_standard == "Bye" | word_standard == "Bottle" |
word_standard == "Dog" | word_standard == "Cat" | word_standard == "Hi" | word_standard == "No" |
word_standard == "Milk" | word_standard == "Kitty") %>%
group_by(agesplit, word_standard, word_original)%>%
summarise(n = n())%>%
group_by(word_standard)%>%
mutate(prop = n/sum(n))
View(d_phon)
d_phon <- d %>%
filter(word_standard == "Ball" | word_standard == "Baba" | word_standard == "Bye" | word_standard == "Bottle" |
word_standard == "Dog" | word_standard == "Cat" | word_standard == "Hi" | word_standard == "No" |
word_standard == "Milk" | word_standard == "Kitty") %>%
group_by(agesplit, word_standard, word_original)%>%
summarise(n = n())%>%
group_by(word_standard)
View(d_phon)
d_phon <- d %>%
filter(word_standard == "Ball" | word_standard == "Baba" | word_standard == "Bye" | word_standard == "Bottle" |
word_standard == "Dog" | word_standard == "Cat" | word_standard == "Hi" | word_standard == "No" |
word_standard == "Milk" | word_standard == "Kitty") %>%
group_by(agesplit, word_standard, word_original)%>%
summarise(n = n())%>%
group_by(agesplit) %>%
mutate(prop = n/sum(n))
View(d_phon)
ggplot(data = d_phon, x = agesplit, y = prop) + geom_histogram(stat = "identity", position = "dodge")
ggplot(data = d_phon, x = agesplit, y=prop)) +
geom_histogram(stat="identity", position = "dodge") +
ylab("Proportion") +
xlab("Word") +
scale_fill_brewer(palette="Set1") +
theme_bw(base_size=12) +
theme(axis.text.x = element_text(angle=90, hjust = 1,vjust=.5, size=8),
axis.title.x = element_text(vjust=-.5),
panel.grid = element_blank())
ggplot(data = d_phon, x = agesplit, y=prop) +
geom_histogram(stat="identity", position = "dodge") +
ylab("Proportion") +
xlab("Word") +
scale_fill_brewer(palette="Set1") +
theme_bw(base_size=12) +
theme(axis.text.x = element_text(angle=90, hjust = 1,vjust=.5, size=8),
axis.title.x = element_text(vjust=-.5),
panel.grid = element_blank())
head(d_phon)
ggplot(data = d_phon, x = word_standard, y=prop, fill=agesplit, group = agesplit) +
geom_histogram(stat="identity", position = "dodge") +
ylab("Proportion") +
xlab("Word") +
scale_fill_brewer(palette="Set1") +
theme_bw(base_size=12) +
theme(axis.text.x = element_text(angle=90, hjust = 1,vjust=.5, size=8),
axis.title.x = element_text(vjust=-.5),
panel.grid = element_blank())
ggplot(data = d_phon, aes(x=reorder(word_standard, prop), y=prop, fill=agesplit)) +
geom_histogram(stat="identity", position = "dodge") +
scale_fill_brewer(palette="Set1") +
theme_bw(base_size=12) +
theme(axis.text.x = element_text(angle=90, hjust = 1,vjust=.5, size=8),
axis.title.x = element_text(vjust=-.5),
panel.grid = element_blank())
d_phon <- d %>%
filter(word_standard == "Ball" | word_standard == "Baba" | word_standard == "Bye" | word_standard == "Bottle" |
word_standard == "Dog" | word_standard == "Cat" | word_standard == "Hi" | word_standard == "No" |
word_standard == "Milk" | word_standard == "Kitty") %>%
group_by(agesplit, word_standard, word_original)%>%
summarise(n = n())%>%
group_by(word_standard) %>%
mutate(prop = n/sum(n))
ggplot(data = d_phon, aes(x=reorder(word_standard, prop), y=prop, fill=agesplit)) +
geom_histogram(stat="identity", position = "dodge") +
scale_fill_brewer(palette="Set1") +
theme_bw(base_size=12) +
theme(axis.text.x = element_text(angle=90, hjust = 1,vjust=.5, size=8),
axis.title.x = element_text(vjust=-.5),
panel.grid = element_blank())
setwd("~/Documents/firstword/analysis")
install.packages("wordbankr")
setwd("~/Documents/Projects/FW_extended/analysis")
setwd("~/Documents/Projects/FW_extended/analysis")
library(knitr)
opts_chunk$set(cache=TRUE, message=FALSE, warning=FALSE)
rm(list=ls())
library(ggplot2)
library(reshape2)
library(entropy)
library(pscl)
library(dplyr)
library(stringr)
library(tidyr)
library(markdown)
library(directlabels)
library(magrittr)
library(bootstrap)
library(RMySQL)
library(RCurl)
library(RColorBrewer)
library(wordbankr)
library(langcog)
theme_set(theme_bw())
df_turk=read.csv("../data/FW_TurkData.csv") #Turk data
df_cdm=read.csv("../data/CDMlangsurvey_analysis.csv") #CDM data
df_info=read.csv("../data/FW_childesinfo.csv") #Childesinfo data
df_mv <- read.csv("../data/MVapp.csv")
df_cdi <- read.csv("../data/mbcdi.csv")
english_wg_admins <- get_administration_data("English", "WG")
all_admins <- get_administration_data()
english_items <- get_item_data("English", "WG")
english_instrument <- get_instrument_data(instrument_language = "English",
instrument_form = "WG"))
english_instrument <- get_instrument_data(instrument_language = "English",
instrument_form = "WG")
View(english_instrument)
head(english_wg_admins)
head(english_items)
View(english_instrument)
head(english_wg_admins)
names(english_wg_admins$sex)
View(english_wg_admins)
admin.data <- english_wg_admins %>%
mutate(sex = factor(sex,levels=c("F","M"),
labels=c("Female","Male")))%>%
as.data.frame
View(admin.data)
english_wg_admins <- get_administration_data("English", "WG")
View(english_wg_admins)
english_wg_admins <- get_administration_data()
View(english_wg_admins)
head(english_wg_admins)
english_wg_admins <- get_administration_data()%>%
filter(language == "English" & form == "WG", na.rm=TRUE)
head(english_wg_admins)
setwd("~/Documents/Projects/SI_tablet/paper/SI_tablet")
rm(list=ls())
knitr::opts_chunk$set(fig.width=3, fig.height=3, fig.crop = F, fig.pos = "tb", fig.path='figs/',
echo=F, warning=F, cache=TRUE, message=F, sanitize = T)
library(png)
library(grid)
library(ggplot2)
library(xtable)
library(reshape)
library(lme4)
library(dplyr)
library(stringr)
library(tidyr)
library(directlabels)
library(magrittr)
library(RCurl)
library(langcog)
library(diptest)
library(RWiener)
theme_set(theme_bw())
df <- read.csv("tmp_si.csv")
num_english <- df %>%
filter(english < 0.75)%>%
select(sub_id)%>%
distinct()%>%
summarise(n = n())
num_subjects <- df %>%
select(sub_id)%>%
distinct()
df %<>%
dplyr::mutate(age = as.numeric(age))%>%
dplyr::mutate(resp = factor(correct, levels=c("Y","N"), labels=c("upper","lower")),
q = rt/1000)%>%
dplyr::filter(selection_type != "someall" &
selection_type != "allall" &
selection_type != "allallall" &
selection_type != "allsome" &
selection_type != "somesome", na.rm=TRUE) %>% #this is filtering out the strange repeats
dplyr::filter(english >= 0.75, na.rm=TRUE) %>% # excluding less than 75% english exposure
dplyr::filter(english != "NA", na.rm=TRUE)%>% #avoiding the missing value that snuck back in
dplyr::mutate(age_round = round(age, digits = 2))%>% #for easier grouping
dplyr::mutate(agesplit = cut(age_round, breaks=c(3, 3.5, 4, 4.5, 5, 6.5)),
agesplit = factor(agesplit,
labels=c("3-3.5 years", "3.5-4 years",
"4-4.5 years", "4.5-5 years",
"5-6.5 years")))%>%
dplyr::filter(agesplit != "NA", na.rm = TRUE)
#for computing means
df$correct %<>%
str_replace("Y", 1)%>%
str_replace("N", 0)
df %<>%
dplyr::mutate(correct = as.numeric(correct))
#renaming for better graphs at the start
df$trial_type %<>%
str_replace("all", "All")%>%
str_replace("some", "Some")%>%
str_replace("none", "None")
df$selection_type %<>%
str_replace("all", "All")%>%
str_replace("some", "Some")%>%
str_replace("none", "None")
df <- read.csv("tmp_si.csv")
d_bilingual <- df %>%
filter(english >= 0.75)
num_bilingual <- d_bilingual %>%
dplyr::mutate(agesplit = cut(age_round, breaks=c(3, 3.5, 4, 4.5, 5, 6.5)),
agesplit = factor(agesplit,
labels=c("3-3.5 years", "3.5-4 years",
"4-4.5 years", "4.5-5 years",
"5-6.5 years")))%>%
group_by(agesplit)%>%
summarise(n = n())
num_bilingual <- d_bilingual %>%
dplyr::mutate(agesplit = cut(age, breaks=c(3, 3.5, 4, 4.5, 5, 6.5)),
agesplit = factor(agesplit,
labels=c("3-3.5 years", "3.5-4 years",
"4-4.5 years", "4.5-5 years",
"5-6.5 years")))%>%
group_by(agesplit)%>%
summarise(n = n())
View(num_bilingual)
num_bilingual <- d_bilingual %>%
distinct(sub_id)%>%
dplyr::mutate(agesplit = cut(age, breaks=c(3, 3.5, 4, 4.5, 5, 6.5)),
agesplit = factor(agesplit,
labels=c("3-3.5 years", "3.5-4 years",
"4-4.5 years", "4.5-5 years",
"5-6.5 years")))%>%
group_by(agesplit)%>%
summarise(n = n())
View(num_bilingual)
d_bilingual <- df %>%
filter(english >= 0.75, na.rm=TRUE)
d_bilingual <- df %>%
filter(english < 0.75, na.rm=TRUE)
d_bilingual <- df %>%
filter(english <= 0.75, na.rm=TRUE)
num_bilingual <- d_bilingual %>%
distinct(sub_id)%>%
dplyr::mutate(agesplit = cut(age, breaks=c(3, 3.5, 4, 4.5, 5, 6.5)),
agesplit = factor(agesplit,
labels=c("3-3.5 years", "3.5-4 years",
"4-4.5 years", "4.5-5 years",
"5-6.5 years")))%>%
group_by(agesplit)%>%
summarise(n = n())
View(num_bilingual)
